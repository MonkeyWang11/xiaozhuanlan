<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 8.3.0 (457352)"/><meta name="author" content="372251027@qq.com"/><meta name="created" content="2017-02-14 07:34:36 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="evernote.win32"/><meta name="updated" content="2018-11-17 12:33:09 +0000"/><title>3、数据库操作</title></head><body><div><div><span style="font-weight: bold; font-size: 18px;">（1）查看数据库列表</span></div><hr/><ul><li><div>查看数据库：show databases;</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; <font color="#ff2600">show databases;</font></div><div>+--------------------+</div><div>| Database           |</div><div>+--------------------+</div><div>| information_schema |</div><div>| mysql              |</div><div>| performance_schema |</div><div>| sys                |</div><div>+--------------------+</div><div>4 rows in set (0.00 sec)</div></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">（2）创建数据库</span></div><hr/><ul><li><div>创建数据库：CREATE {DATABASE} [IF NOT EXISTS] db-name [DEFAULT] CHARACTER SET [=] charset_name;</div></li><li><div>查看数据库详情：show create database db-name;</div></li><li><div>查看执行的错误信息：show warnings;</div></li><li><div>注意</div></li><ul><li><div>重复创建同名的数据库会抛出Error，加一下if not exists就可以避免</div></li><li><div>数据库默认的编码是utf8</div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create database d1;</div><div>Query OK, 1 row affected (0.02 sec)</div><div><br/></div><div>mysql&gt; create database d1;</div><div>ERROR 1007 (HY000): Can't create database 'd1'; database exists</div><div>mysql&gt; show warnings;</div><div>+-------+------+---------------------------------------------+</div><div>| Level | Code | Message                                     |</div><div>+-------+------+---------------------------------------------+</div><div>| Error | 1007 | Can't create database 'd1'; database exists |</div><div>+-------+------+---------------------------------------------+</div><div>1 row in set (0.00 sec)</div><div><br/></div><div>mysql&gt; create database <font color="#ff2600">if not exists</font> d1;</div><div>Query OK, 1 row affected, 1 warning (0.00 sec)</div><div><br/></div><div>mysql&gt; show warnings;</div><div>+-------+------+---------------------------------------------+</div><div>| Level | Code | Message                                     |</div><div>+-------+------+---------------------------------------------+</div><div>| Note  | 1007 | Can't create database 'd1'; database exists |</div><div>+-------+------+---------------------------------------------+</div><div>1 row in set (0.00 sec)</div><div><br/></div><div>mysql&gt; create database d2 <font color="#ff2600">character set = gbk;</font></div><div>Query OK, 1 row affected (0.05 sec)</div><div><br/></div><div>mysql&gt; show create database d1;</div><div>+----------+-------------------------------------------------------------------------------------------+</div><div>| Database | Create Database                                                                           |</div><div>+----------+-------------------------------------------------------------------------------------------+</div><div>| d1       | CREATE DATABASE `d1` /*!40100 DEFAULT CHARACTER SET <font color="#ff2600">utf8mb4</font> COLLATE utf8mb4_0900_ai_ci */ |</div><div>+----------+-------------------------------------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div><div><br/></div><div>mysql&gt; <font color="#ff2600">show create database d2;</font></div><div>+----------+------------------------------------------------------------+</div><div>| Database | Create Database                                            |</div><div>+----------+------------------------------------------------------------+</div><div>| d2       | CREATE DATABASE `d2` /*!40100 DEFAULT CHARACTER SET <font color="#ff2600">gbk</font> */ |</div><div>+----------+------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div></div><div><br/></div><div><span style="font-weight: bold; font-size: 18px;">（3）修改数据库</span></div><hr/><ul><li><div>修改数据库：ALTER {DATABASE}  db-name [DEFAULT] CHARACTER SET [=] charset_name;</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; <font color="#ff2600">alter database d1 character set = gbk;</font></div><div>Query OK, 1 row affected (0.04 sec)</div><div><br/></div><div>mysql&gt; show create database d1;</div><div>+----------+------------------------------------------------------------+</div><div>| Database | Create Database                                            |</div><div>+----------+------------------------------------------------------------+</div><div>| d1       | CREATE DATABASE `d1` /*!40100 DEFAULT CHARACTER SET <font color="#ff2600">gbk</font> */ |</div><div>+----------+------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div></div><div/><div><span style="font-weight: bold; font-size: 18px;"><br/></span></div><div><span style="font-weight: bold; font-size: 18px;">（4）删除数据库</span></div><hr/><ul><li><div>删除数据库：DROP {DATABASE | SCHEMA} [IF EXISTS] db-name ;</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; drop database d1;</div><div>Query OK, 0 rows affected (0.07 sec)</div><div><br/></div><div>mysql&gt; <font color="#ff2600">drop database d2;</font></div><div>Query OK, 0 rows affected (0.04 sec)</div><div><br/></div><div>mysql&gt; <font color="#ff2600">drop database if exists d2;</font></div><div>Query OK, 0 rows affected, 1 warning (0.00 sec)</div><div><br/></div><div>mysql&gt; show warnings;</div><div>Empty set (0.00 sec)</div></div><div><br/></div><div><span style="font-weight: bold; font-size: 18px;">（5）打开数据库</span></div><hr/><ul><li><div>打开数据库：use db-name；</div></li><li><div>查看当前所在数据库：select database();</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; show databases;</div><div>+--------------------+</div><div>| Database           |</div><div>+--------------------+</div><div>| information_schema |</div><div>| mysql              |</div><div>| performance_schema |</div><div>| sys                |</div><div>+--------------------+</div><div>4 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; <font color="#ff2600">use mysql;</font></div><div>Reading table information for completion of table and column names</div><div>You can turn off this feature to get a quicker startup with -A</div><div><br/></div><div>Database changed</div><div>mysql&gt; <font color="#ff2600">select database();</font></div><div>+------------+</div><div>| database() |</div><div>+------------+</div><div>| <font color="#ff2600">mysql</font>      |</div><div>+------------+</div><div>1 row in set (0.00 sec)</div><div><br/></div><div>mysql&gt; <font color="#ff2600">use sys;</font></div><div>Reading table information for completion of table and column names</div><div>You can turn off this feature to get a quicker startup with -A</div><div><br/></div><div>Database changed</div><div>mysql&gt; select database();</div><div>+------------+</div><div>| database() |</div><div>+------------+</div><div>| <font color="#ff2600">sys</font>        |</div><div>+------------+</div><div>1 row in set (0.00 sec)</div></div><div><br/></div></div><div><br/></div></body></html>