<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 8.3.1 (457436)"/><meta name="author" content="wangchundl@yeah.net"/><meta name="created" content="2018-11-12 01:55:00 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="yinxiang.win32"/><meta name="source-url" content="http://www.runoob.com/mysql/mysql-select-query.html"/><meta name="updated" content="2018-11-25 12:36:33 +0000"/><title>9、数据表查询</title></head><body><div><div><div><span style="font-size: 18pt; font-weight: bold;">（1）查询指定列</span></div><hr/><ul><li><div>查询通用语法格式</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT select_expr [, select_expr ...]</div><div>[</div><div>     FROM table_references</div><div>     [WHERE where_condition]</div><div>     [GROUP BY {col_name | position} [ASC | DESC], ...]</div><div>     [HAVING where_condition]</div><div>     [ORDER BY {col_name | position | expr} [ASC | DESC], ...]</div><div>     [LIMIT {[offset,] row_count | row_count OFFSET offset}]</div><div>]</div><div>* select_expr 查询表达式</div><div>    * 每一个表达式表示想要的一列，必须至少有一个，多个列之间以英文逗号分隔</div><div>    * 表示所有列 tb1_name.*表示某表的所有列</div><div>    * 查询表达式可以使用[AS] alias_name为其赋予别名</div><div>    * 别名可用于GROUP BY,ORDER BY或HAVING子句</div></div><ul><li><div>查询所有列</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create table if not exists book(</div><div>    -&gt; id int unsigned primary key auto_increment,</div><div>    -&gt; title varchar(100) not null,</div><div>    -&gt; author varchar(40) not null,</div><div>    -&gt; date date</div><div>    -&gt; );</div><div>Query OK, 0 rows affected (0.17 sec)</div><div><br/></div><div>mysql&gt; insert book (title,author,date) values('java','US',NOW());</div><div>Query OK, 1 row affected, 1 warning (0.05 sec)</div><div><br/></div><div>mysql&gt; insert book (title,author,date) values('mysql','Oracle','2018-11-11');</div><div>Query OK, 1 row affected (0.03 sec)</div><div><br/></div><div>mysql&gt; insert book (title,author,date) values('android','google',NOW());</div><div>Query OK, 1 row affected, 1 warning (0.07 sec)</div><div><br/></div><div>mysql&gt; <b><font color="#FF0000">select * from book;</font></b></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.01 sec)</div></div><ul><li><div>查询指定列</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; <font color="#000000">select</font> <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">title,author</font></b></span> <font color="#000000">from book;</font></div><div>+---------+--------+</div><div>| title   | author |</div><div>+---------+--------+</div><div>| java    | US     |</div><div>| mysql   | Oracle |</div><div>| android | google |</div><div>+---------+--------+</div><div>3 rows in set (0.00 sec)</div></div></div><ul><li><div>别名查询（as可不写）</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">title as book_title,author as book_author</font></span> from book;</div><div>+------------+-------------+</div><div>| <font color="#ff2600">book_title</font> | <font color="#ff2600">book_author</font> |</div><div>+------------+-------------+</div><div>| java       | US          |</div><div>| mysql      | Oracle      |</div><div>| android    | google      |</div><div>+------------+-------------+</div><div>3 rows in set (0.01 sec)</div></div><div><span style="font-size: 18pt;"><br/></span></div><div><span style="font-size: 18pt; font-weight: bold;">（2）where条件查询</span></div><hr/><ul><li><div>and、or指定多个条件</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#FF0000">where id&gt;1;</font></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>2 rows in set (0.04 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#000000">where id&gt;1</font> <font color="#FF0000"><b>and</b></font> <font color="#000000">author='google';</font></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>1 row in set (0.03 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">where id&gt;1 <b><font color="#FF0000">or</font></b> author='US';</span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.00 sec)</div></div><div><br/></div><div><span style="font-size: 18pt; font-weight: bold;">（3）like模糊匹配</span></div><hr/><ul><li><div>LIKE 子句中使用百分号 %字符来表示任意字符</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">where author <b><font color="#FF0000">like '%le'</font></b>;</span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>2 rows in set (0.02 sec)</div></div><div><br/></div><div><span style="font-size: 18pt; font-weight: bold;">（4）limit/offset</span></div><hr/><ul><li><div>查询个数和偏移</div></li><li><div>[LIMIT { [offset,] row_count | row_count OFFSET offset}]</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">limit 2;</font></b></span></div><div>+----+-------+--------+------------+</div><div>| id | title | author | date       |</div><div>+----+-------+--------+------------+</div><div>|  1 | java  | US     | 2018-11-12 |</div><div>|  2 | mysql | Oracle | 2018-11-11 |</div><div>+----+-------+--------+------------+</div><div>2 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">limit 2 offset 1;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>2 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">select * from book limit 1,2;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>2 rows in set (0.00 sec)</div></div><div><br/></div><div><span style="font-size: 18pt; font-weight: bold;">（5）排序</span></div><hr/><ul><li><div>[ORDER BY {col_name} [ASC/DESC] ]</div></li><li><div>默认：升序</div></li><li><div>ASC：升序</div></li><li><div>DESC：降序</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">order by id ASC;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.02 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">order by id DESC;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  3 | android | google | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">order by id;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">order by date asc,id desc;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.02 sec)</div></div><div><br/></div><div><span style="font-size: 18pt; font-weight: bold;">（6）分组</span></div><hr/><ul><li><div>查询结果分组—[GROUP BY {col_name | position} [ASC | DESC], ...]  （ASC升序、DESC降序）</div></li><li><div>筛选结果按GROUP之后列排序，相同的只保留第一个，其它的略去</div></li><li><div>可指定列名分组、也可写1、2、3….指定按第几列分组</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select * from book;</div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.16 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">group by date;</font></b></span></div><div>+----+-------+--------+------------+</div><div>| id | title | author | date       |</div><div>+----+-------+--------+------------+</div><div>|  2 | mysql | Oracle | 2018-11-11 |</div><div>|  1 | java  | US     | 2018-11-12 |</div><div>+----+-------+--------+------------+</div><div>2 rows in set (0.03 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">group by 1;</font></b></span></div><div>+----+---------+--------+------------+</div><div>| id | title   | author | date       |</div><div>+----+---------+--------+------------+</div><div>|  1 | java    | US     | 2018-11-12 |</div><div>|  2 | mysql   | Oracle | 2018-11-11 |</div><div>|  3 | android | google | 2018-11-12 |</div><div>+----+---------+--------+------------+</div><div>3 rows in set (0.01 sec)</div><div><br/></div><div>mysql&gt; select * from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">group by 4;</font></b></span></div><div>+----+-------+--------+------------+</div><div>| id | title | author | date       |</div><div>+----+-------+--------+------------+</div><div>|  2 | mysql | Oracle | 2018-11-11 |</div><div>|  1 | java  | US     | 2018-11-12 |</div><div>+----+-------+--------+------------+</div><div>2 rows in set (0.00 sec)</div></div><div><br/></div><div><span style="font-size: 18pt; font-weight: bold;">（7）having</span></div><hr/><ul><li><div>HAVING 语句中的字段在选择条件中必须有，此处为date，选择语句中只有id，所以不符合</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select id from book having id &gt; 1;</div><div>+----+</div><div>| id |</div><div>+----+</div><div>|  2 |</div><div>|  3 |</div><div>+----+</div><div>2 rows in set (0.06 sec)</div><div><br/></div><div>mysql&gt; select id from book <b><font color="#FF0000" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">having date='2018-11-11’;</font></b>  </div><div>//* HAVING 语句中的字段在选择条件中必须有，此处为date，选择语句中只有id，所以不符合</div><div>ERROR 1054 (42S22): Unknown column 'date' in 'having clause'</div><div><br/></div><div>mysql&gt; select id,date from book <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">having date='2018-11-11';</font></b></span></div><div>+----+------------+</div><div>| id | date       |</div><div>+----+------------+</div><div>|  2 | 2018-11-11 |</div><div>+----+------------+</div><div>1 row in set (0.00 sec)</div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></body></html>