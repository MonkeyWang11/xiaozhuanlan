<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 8.3.1 (457436)"/><meta name="author" content="372251027@qq.com"/><meta name="created" content="2017-02-15 03:52:17 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="evernote.win32"/><meta name="updated" content="2018-11-25 08:00:12 +0000"/><title>7、数据表结构的修改</title></head><body><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">（1）添加列</span></font></div><hr/><ul><li><div>单列—ALTER TABLE tab_name ADD [COLUMN] col_name column_definition [FIRST | AFTER col_name]</div></li><li><div>多列—ALTER TABLE tab_name ADD [COLUMN] (col_name column_definition,...)</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create table tab(</div><div>    -&gt; id tinyint primary key auto_increment,</div><div>    -&gt; username varchar(20)                                                         -&gt; );</div><div>Query OK, 0 rows affected (0.03 sec)</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>2 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table tab <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">add password tinyint;</font></span></div><div>Query OK, 0 rows affected (0.10 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><div><br/></div></div><div>mysql&gt; alter table tab <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">add (sex smallint,salary smallint);</font></div><div>Query OK, 0 rows affected (0.04 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>| password | tinyint(4)  | YES  |     | NULL    |                |</div><div>| sex      | smallint(6) | YES  |     | NULL    |                |</div><div>| salary   | smallint(6) | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>5 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table tab add career varchar(20) <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">first</font>;</div><div>Query OK, 0 rows affected (0.03 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| <font color="#ff2600">career</font>   | varchar(20) | YES  |     | NULL    |                |</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>| password | tinyint(4)  | YES  |     | NULL    |                |</div><div>| sex      | smallint(6) | YES  |     | NULL    |                |</div><div>| salary   | smallint(6) | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>6 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table tab add age tinyint <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">after password</font></span>;</div><div>Query OK, 0 rows affected (0.05 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| career   | varchar(20) | YES  |     | NULL    |                |</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>| <font color="#ff2600">password</font> | tinyint(4)  | YES  |     | NULL    |                |</div><div>| age      | tinyint(4)  | YES  |     | NULL    |                |</div><div>| sex      | smallint(6) | YES  |     | NULL    |                |</div><div>| salary   | smallint(6) | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>7 rows in set (0.00 sec)</div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">（2）删除列</span></font></div><hr/><ul><li><div><span style="font-size: 14px;">ALTER TABLE </span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">tab_name</span><span style="font-size: 14px;"> DROP [COLUMN] col_name column_definition,DROP ...</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table tab <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">drop career;</font></span></div><div>Query OK, 0 rows affected (0.09 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>| password | tinyint(4)  | YES  |     | NULL    |                |</div><div>| age      | tinyint(4)  | YES  |     | NULL    |                |</div><div>| sex      | smallint(6) | YES  |     | NULL    |                |</div><div>| salary   | smallint(6) | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>6 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table tab <font color="#ff2600">drop age,drop sex;</font></div><div>Query OK, 0 rows affected (0.08 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>| password | tinyint(4)  | YES  |     | NULL    |                |</div><div>| <font color="#ff2600">salary</font>   | smallint(6) | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>4 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table tab <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">add sex int,drop salary;</font></span></div><div>Query OK, 0 rows affected (0.06 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from tab;</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| Field    | Type        | Null | Key | Default | Extra          |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>| id       | tinyint(4)  | NO   | PRI | NULL    | auto_increment |</div><div>| username | varchar(20) | YES  |     | NULL    |                |</div><div>| password | tinyint(4)  | YES  |     | NULL    |                |</div><div>| <font color="#ff2600">sex</font>      | int(11)     | YES  |     | NULL    |                |</div><div>+----------+-------------+------+-----+---------+----------------+</div><div>4 rows in set (0.00 sec)</div></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">（3）修改约束</span></div><hr/><ul><li><div><span style="font-size: 14px;">主键约束—ALTER TABLE ta_name ADD </span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[CONSTRAINT[symbol]]</span><span style="font-size: 14px;"> PRIMARY KEY </span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[index_type]</span><span style="font-size: 14px;"> (index_col_name); 约束标记 索引类型</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create table user(</div><div>    -&gt; username varchar(20) not null,</div><div>    -&gt; sex smallint);</div><div>Query OK, 0 rows affected (0.04 sec)</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+-------------+------+-----+---------+-------+</div><div>| Field    | Type        | Null | Key | Default | Extra |</div><div>+----------+-------------+------+-----+---------+-------+</div><div>| username | varchar(20) | NO   |     | NULL    |       |</div><div>| sex      | smallint(6) | YES  |     | NULL    |       |</div><div>+----------+-------------+------+-----+---------+-------+</div><div>2 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user add id smallint unsigned;</div><div>Query OK, 0 rows affected (0.09 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   |     | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | NULL    |       |</div><div>| id       | smallint(5) unsigned | YES  |     | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>3 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">add primary key(id);</font></div><div>Query OK, 0 rows affected (0.10 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   |     | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | NULL    |       |</div><div>| id       | smallint(5) unsigned | NO   | <font color="#ff2600">PRI</font> | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>3 rows in set (0.00 sec)</div></div><ul><li><div><span style="font-size: 14px;">唯一约束—ALTER TABLE ta_name ADD </span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[CONSTRAINT[symbol]]</span><span style="font-size: 14px;"> UNIQUE </span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[index_name]</span><span style="font-size: 14px;" /><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[index_type]</span><span style="font-size: 14px;"> (index_col_name,...);</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">add unique(username);</font></span></div><div>Query OK, 0 rows affected (0.08 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | <font color="#ff2600">UNI</font> | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | NULL    |       |</div><div>| id       | smallint(5) unsigned | NO   | PRI | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>3 rows in set (0.00 sec)</div></div><ul><li><div><span style="font-size: 14px;">外键约束—ALTER TABLE ta_name ADD </span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[CONSTRAINT[symbol]]</span><span style="font-size: 14px;"> FOREIGN KEY (index_col_name,...) reference_definition;</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create table person( </div><div>    -&gt; id smallint primary key auto_increment);</div><div>Query OK, 0 rows affected (0.08 sec)</div><div><br/></div><div>mysql&gt; alter table user add pid smallint;</div><div>Query OK, 0 rows affected (0.05 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | UNI | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | NULL    |       |</div><div>| id       | smallint(5) unsigned | NO   | PRI | NULL    |       |</div><div>| pid      | smallint(6)          | YES  |     | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">add foreign key (pid) references person(id);</font></span></div><div>Query OK, 0 rows affected (0.09 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show create table user;</div><div>+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| Table | Create Table                                                                                                                                                                                                                                                                                                                                                                                     |</div><div>+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| user  | CREATE TABLE `user` (</div><div>  `username` varchar(20) NOT NULL,</div><div>  `sex` smallint(6) DEFAULT NULL,</div><div>  `id` smallint(5) unsigned NOT NULL,</div><div>  `pid` smallint(6) DEFAULT NULL,</div><div>  PRIMARY KEY (`id`),</div><div>  UNIQUE KEY `username` (`username`),</div><div>  KEY `pid` (`pid`),</div><div>  <font color="#ff2600">CONSTRAINT `user_ibfk_1` FOREIGN KEY (`pid`) REFERENCES `person` (`id`)</font></div><div>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |</div><div>+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div></div><ul><li><div><span style="font-size: 14px;">默认约束—ALTER TABLE ta_name ALTER</span><span style="background-color: rgb(255, 250, 165);font-size: 14px;-evernote-highlight:true;">[COLUMN]</span><span style="font-size: 14px;"> col_name {SET DEFAULT litera | DROP DEFAULT};</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">alter sex set default 15;</font></span></div><div>Query OK, 0 rows affected (0.02 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | UNI | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | <font color="#ff2600">15</font>      |       |</div><div>| id       | smallint(5) unsigned | NO   | PRI | NULL    |       |</div><div>| pid      | smallint(6)          | YES  | MUL | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">alter sex drop default;</font></div><div>Query OK, 0 rows affected (0.07 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | UNI | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | <font color="#ff2600">NULL</font>    |       |</div><div>| id       | smallint(5) unsigned | NO   | PRI | NULL    |       |</div><div>| pid      | smallint(6)          | YES  | MUL | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div></div><div><font style="font-size: 14px;"><br/></font></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">（4）删除约束</span></font></div><hr/><ul><li><div><span style="font-size: 14px;">删除主键约束—ALTER TABLE tb_name DROP PRIMARY KEY;</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">drop primary key;</font></span></div><div>Query OK, 0 rows affected (0.10 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | PRI | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |     | NULL    |       |</div><div>| id       | smallint(5) unsigned | NO   |     | NULL    |       |</div><div>| pid      | smallint(6)          | YES  | MUL | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div></div><ul><li><div><span style="font-size: 14px;">删除唯一约束—ALTER TABLE tb_name DROP {INDEX | KEY} index_name;</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">add unique(sex);</font></span></div><div>Query OK, 0 rows affected (0.01 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | PRI | NULL    |       |</div><div>| sex      | smallint(6)          | YES  | <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">UNI</font> | NULL    |       |</div><div>| id       | smallint(5) unsigned | NO   |     | NULL    |       |</div><div>| pid      | smallint(6)          | YES  | MUL | NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">drop index sex;</font></div><div>Query OK, 0 rows affected (0.08 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| Field    | Type                 | Null | Key | Default | Extra |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>| username | varchar(20)          | NO   | PRI | NULL    |       |</div><div>| id       | smallint(5) unsigned | NO   |     | NULL    |       |</div><div>| pid      | smallint(6)          | YES  | MUL | NULL    |       |</div><div>| sex      | smallint(6)          | YES  |<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">     </span>| NULL    |       |</div><div>+----------+----------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div></div><ul><li><div><span style="font-size: 14px;">删除外键约束—ALTER TABLE tb_name DROP FOREIGN KEY fk_symbol;</span>删除外键约束（先找到外键的symbol，按这个删除外键，再DROP INDEX）</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; show create table user;</div><div>+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| Table | Create Table                                                                                                                                                                                                                                                                                                                                                               |</div><div>+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| user  | CREATE TABLE `user` (</div><div>  `username` varchar(20) NOT NULL,</div><div>  `id` smallint(5) unsigned NOT NULL,</div><div>  `pid` smallint(6) DEFAULT NULL,</div><div>  `sex` smallint(6) DEFAULT NULL,</div><div>  UNIQUE KEY `username` (`username`),</div><div>  KEY `pid` (`pid`),</div><div>  <font color="#ff2600">CONSTRAINT `<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">user_ibfk_1</span>` FOREIGN KEY (`pid`) REFERENCES `person` (`id`)</font></div><div>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |</div><div>+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">drop foreign key user_ibfk_1;</font></div><div>Query OK, 0 rows affected (0.08 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show create table user;</div><div>+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| Table | Create Table                                                                                                                                                                                                                                                                                    |</div><div>+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| user  | CREATE TABLE `user` (</div><div>  `username` varchar(20) NOT NULL,</div><div>  `id` smallint(5) unsigned NOT NULL,</div><div>  `pid` smallint(6) DEFAULT NULL,</div><div>  `sex` smallint(6) DEFAULT NULL,</div><div>  UNIQUE KEY `username` (`username`),</div><div>  KEY `pid` (`pid`)</div><div>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |</div><div>+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">（5）修改列定义</span></font></div><hr/><ul><li><div><span style="font-size: 14px;">修改列定义(列名或者位置)—ALTER TABLE</span> tb_name <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">MODIFY</span> [COLUMNS] col_name colum_definition [FIRST | AFTER col_name];</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><font color="#ff2600">modify id smallint unsigned not null first;</font></span></div><div>Query OK, 0 rows affected (0.06 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show create table user;</div><div>+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| Table | Create Table                                                                                                                                                                                                                                                                                    |</div><div>+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| user  | CREATE TABLE `user` (</div><div>  `<font color="#ff2600">id` smallint(5) unsigned NOT NULL,</font></div><div>  `username` varchar(20) NOT NULL,</div><div>  `pid` smallint(6) DEFAULT NULL,</div><div>  `sex` smallint(6) DEFAULT NULL,</div><div>  UNIQUE KEY `username` (`username`),</div><div>  KEY `pid` (`pid`)</div><div>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |</div><div>+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>1 row in set (0.00 sec)</div><div><br/></div><div>mysql&gt; alter table user modify id <font color="#ff2600">tinyint</font> unsigned not null first;</div><div>Query OK, 0 rows affected (0.12 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show create table user;</div><div>+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| Table | Create Table                                                                                                                                                                                                                                                                                   |</div><div>+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>| user  | CREATE TABLE `user` (</div><div>  `id` <font color="#ff2600">tinyint</font>(3) unsigned NOT NULL,</div><div>  `username` varchar(20) NOT NULL,</div><div>  `pid` smallint(6) DEFAULT NULL,</div><div>  `sex` smallint(6) DEFAULT NULL,</div><div>  UNIQUE KEY `username` (`username`),</div><div>  KEY `pid` (`pid`)</div><div>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |</div><div>+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div>1 row in set (0.01 sec)</div></div><ul><li><div>修改列名称—ALTER TABLE tb_name CHANGE [COLUMNS] old_col_name new_col_name colum_definition [FIRST | AFTER col_name];（不仅修改列的定义，还可以改名称）</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; alter table user <font color="#ff2600" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">change pid p_id smallint not null;</font></div><div>Query OK, 0 rows affected (0.07 sec)</div><div>Records: 0  Duplicates: 0  Warnings: 0</div><div><br/></div><div>mysql&gt; show columns from user;</div><div>+----------+---------------------+------+-----+---------+-------+</div><div>| Field    | Type                | Null | Key | Default | Extra |</div><div>+----------+---------------------+------+-----+---------+-------+</div><div>| id       | tinyint(3) unsigned | NO   |     | NULL    |       |</div><div>| username | varchar(20)         | NO   | PRI | NULL    |       |</div><div>| <font color="#ff2600">p_id</font>     | smallint(6)         | NO   | MUL | NULL    |       |</div><div>| sex      | smallint(6)         | YES  |     | NULL    |       |</div><div>+----------+---------------------+------+-----+---------+-------+</div><div>4 rows in set (0.00 sec)</div></div><div><font style="font-size: 14px;"><br/></font></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">（6）修改数据表名称</span></font></div><hr/><ul><li><div><span style="font-size: 14px;">修改数据表名称—ALTER </span>TABLE tb_name <span style="background-color: rgb(255, 250, 165); color: rgb(255, 0, 0); font-weight: bold;-evernote-highlight:true;">RENAME</span> [TO|AS] new_tal_name;</div></li><li><div>RENAME TABLE tb1_name TO new tb1_name [,tb2_name TO new tb2_name ];</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; <span style="color: rgb(255, 0, 0);"><b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">ALTER TABLE users2 RENAME users3;</span></b></span></div><div>Query OK, 0 rows affected (0.04 sec)</div><div><br/></div><div>mysql&gt; <span style="color: rgb(255, 0, 0);"><b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">SHOW TABLES;</span></b></span></div><div>+----------------+</div><div>| Tables_in_test |</div><div>+----------------+</div><div>| province       |</div><div>| tab            |</div><div>| users          |</div><div>| users1         |</div><div>| <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">users3 </span>        |</div><div>+----------------+</div><div>11 rows in set (0.00 sec)</div><div><br/></div><div>mysql&gt; <span style="color: rgb(255, 0, 0);"><b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">RENAME TABLE users3 TO users4;</span></b></span></div><div>Query OK, 0 rows affected (0.05 sec)</div><div><br/></div><div>mysql&gt; SHOW TABLES;</div><div>+----------------+</div><div>| Tables_in_test |</div><div>+----------------+</div><div>| province       |</div><div>| tab            |</div><div>| users          |</div><div>| users1         |</div><div>| <span style="color: rgb(255, 0, 0);"><b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">users4</span></b></span>         |</div><div>+----------------+</div><div>11 rows in set (0.00 sec)</div></div><div><br/></div></body></html>