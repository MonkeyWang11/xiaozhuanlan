<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export3.dtd">
<en-export export-date="20181125T124015Z" application="Evernote" version="Evernote Mac 8.3.1 (457436)">
<note><title>8、数据表增删改</title><content><![CDATA[<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div><div><div><span style="font-weight: bold; font-size: 18pt;">（1）插入操作</span></div><hr /><ul><li><div>INSERT [INTO] tab_name [(col_name,...)] {VALUES | VALUE} ({expr | DEFAULT}),(),...</div></li><li><div>INSERT [INTO] tab_name SET col_name= {expr | DEFAULT},...</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create table user(</div><div>    -&gt; id smallint unsigned primary key auto_increment,</div><div>    -&gt; username varchar(20) not null,</div><div>    -&gt; password varchar(20) not null,</div><div>    -&gt; age tinyint unsigned not null default 10,</div><div>    -&gt; sex boolean</div><div>    -&gt; );</div><div>Query OK, 0 rows affected (0.15 sec)</div><div><br /></div><div>//<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">对于主键并且自增长的列，赋值为NULL或者DEFAULT,它就会自动增大</span></div><div>mysql&gt; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">insert user values(null,'tom','123',25,1);</font></b></span></div><div>Query OK, 1 row affected (0.03 sec)</div><div><br /></div><div>mysql&gt; insert user values(null,'john','234',25,1);</div><div>Query OK, 1 row affected (0.04 sec)</div><div><br /></div><div>mysql&gt; insert user values(null,'Tom','123',<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">3*9</font></b></span>,2);</div><div>Query OK, 1 row affected (0.05 sec)</div><div><br /></div><div>mysql&gt; insert user values(null,'john',<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">md5('123')</font></b></span>,25,1);</div><div>Query OK, 1 row affected, 1 warning (0.06 sec)</div><div><br /></div><div>mysql&gt; insert user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">values(null,'rose','123',25,1),(null,'rose','123',25,2)</font></b></span>;</div><div>Query OK, 2 rows affected (0.05 sec)</div><div>Records: 2  Duplicates: 0  Warnings: 0</div><div><br /></div><div>mysql&gt; insert user <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">set username='ben',password='456';</font></b></span></div><div>Query OK, 1 row affected (0.04 sec)</div><div><br /></div><div>mysql&gt; select * from user;</div><div>+----+----------+----------------------+-----+------+</div><div>| id | username | password             | age | sex  |</div><div>+----+----------+----------------------+-----+------+</div><div>|  1 | tom      | 123                  |  25 |    1 |</div><div>|  2 | john     | 234                  |  25 |    1 |</div><div>|  3 | Tom      | 123                  |  27 |    2 |</div><div>|  4 | john     | 202cb962ac59075b964b |  25 |    1 |</div><div>|  5 | rose     | 123                  |  25 |    1 |</div><div>|  6 | rose     | 123                  |  25 |    2 |</div><div>|  7 | ben      | 456                  |  10 | NULL |</div><div>+----+----------+----------------------+-----+------+</div><div>7 rows in set (0.00 sec)</div></div><ul><li><div>从其他表插入数据：INSERT [INTO] ta_name [(col_name,...)] SELECT ... 将查询结果插入到指定数据表</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; create table username(</div><div>    -&gt; id smallint unsigned primary key auto_increment,</div><div>    -&gt; username varchar(20) not null</div><div>    -&gt; );</div><div>Query OK, 0 rows affected (0.23 sec)</div><div><br /></div><div>mysql&gt; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">insert username (username) select username from user where age&gt;25;</font></b></span></div><div>Query OK, 1 row affected (0.05 sec)</div><div>Records: 1  Duplicates: 0  Warnings: 0</div><div><br /></div><div>mysql&gt; select * from username;</div><div>+----+----------+</div><div>| id | username |</div><div>+----+----------+</div><div>|  1 | Tom      |</div><div>+----+----------+</div><div>1 row in set (0.00 sec)</div></div><div><br /></div></div><div><span style="font-weight: bold; font-size: 18pt;">（2）更新操作</span></div><hr /><ul><li><div>UPDATE [LOW_PRIOPITY] [IGNORE] table_reference SET col_name1={expr1|DEFAULT} [,col_name1={expr1|DEFAULT} ]... [WHERE where_condition]</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; select * from user;</div><div>+----+----------+----------------------+-----+------+</div><div>| id | username | password             | age | sex  |</div><div>+----+----------+----------------------+-----+------+</div><div>|  1 | tom      | 123                  |  25 |    1 |</div><div>|  2 | john     | 234                  |  25 |    1 |</div><div>|  3 | Tom      | 123                  |  27 |    2 |</div><div>|  4 | john     | 202cb962ac59075b964b |  25 |    1 |</div><div>|  5 | rose     | 123                  |  25 |    1 |</div><div>|  6 | rose     | 123                  |  25 |    2 |</div><div>|  7 | ben      | 456                  |  10 | NULL |</div><div>+----+----------+----------------------+-----+------+</div><div>7 rows in set (0.00 sec)</div><div><br /></div><div>mysql&gt; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">update user set age = age -id,sex=0;</font></b></span></div><div>Query OK, 7 rows affected (0.05 sec)</div><div>Rows matched: 7  Changed: 7  Warnings: 0</div><div><br /></div><div>mysql&gt; select * from user;</div><div>+----+----------+----------------------+-----+------+</div><div>| id | username | password             | age | sex  |</div><div>+----+----------+----------------------+-----+------+</div><div>|  1 | tom      | 123                  |  24 |    0 |</div><div>|  2 | john     | 234                  |  23 |    0 |</div><div>|  3 | Tom      | 123                  |  24 |    0 |</div><div>|  4 | john     | 202cb962ac59075b964b |  21 |    0 |</div><div>|  5 | rose     | 123                  |  20 |    0 |</div><div>|  6 | rose     | 123                  |  19 |    0 |</div><div>|  7 | ben      | 456                  |   3 |    0 |</div><div>+----+----------+----------------------+-----+------+</div><div>7 rows in set (0.00 sec)</div><div><br /></div><div>mysql&gt; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><b><font color="#FF0000">update user set age = age + 10 where id%2=0;</font></b></span></div><div>Query OK, 3 rows affected (0.03 sec)</div><div>Rows matched: 3  Changed: 3  Warnings: 0</div><div><br /></div><div>mysql&gt; select * from user;</div><div>+----+----------+----------------------+-----+------+</div><div>| id | username | password             | age | sex  |</div><div>+----+----------+----------------------+-----+------+</div><div>|  1 | tom      | 123                  |  24 |    0 |</div><div>|  2 | john     | 234                  |  <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">33</span> |    0 |</div><div>|  3 | Tom      | 123                  |  24 |    0 |</div><div>|  4 | john     | 202cb962ac59075b964b |  <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">31</span> |    0 |</div><div>|  5 | rose     | 123                  |  20 |    0 |</div><div>|  6 | rose     | 123                  |  <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">29</span> |    0 |</div><div>|  7 | ben      | 456                  |   3 |    0 |</div><div>+----+----------+----------------------+-----+------+</div><div>7 rows in set (0.00 sec)</div></div><div><br /></div><div><span style="font-weight: bold; font-size: 18pt;">（3）删除操作</span></div><hr /><ul><li><div>DELETE FROM tb1_name [ WHERE where_condition]</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>mysql&gt; delete from user where id = 1;</div><div>Query OK, 1 row affected (0.09 sec)</div></div></div><div><br /></div></en-note>]]></content><created>20181112T022532Z</created><updated>20181125T123221Z</updated><note-attributes><author>wangchundl@yeah.net</author><source>desktop.win</source><source-url>about:blank</source-url><source-application>yinxiang.win32</source-application><reminder-order>0</reminder-order></note-attributes></note>
</en-export>
